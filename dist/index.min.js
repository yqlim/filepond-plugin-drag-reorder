/*!
 * FilepondPluginDragReorder
 * (c) 2019 Yong Quan Lim
 * Released under MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).FilepondPluginDragReorder=e()}(this,(function(){"use strict";function t(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}return function(e){var n,i,r,o=this;document.addEventListener("drop",(function(t){r&&(t.preventDefault(),t.target.matches(".filepond--root")&&(i.archive(),n.dispatch("DID_REMOVE_ITEM",{error:null,id:i.id,item:i})),r=!1,i=null,n=null)}));var a=e.addFilter,u=e.utils.createRoute;return a("CREATE_VIEW",function(e){t(this,o);var a=e.is,d=e.view,f=e.query;if(a("file")){d.registerWriter(u({DID_LOAD_ITEM:function(e){var o=this,a=e.root,u=e.props,d=f("GET_ITEM",u.id),s=function(e){return t(this,o),/^image/.test(e.type)}.bind(this);d&&s(d.file)&&function(t,e){var o=e.element.parentElement.parentElement;o.setAttribute("draggable",!0),o.ondragstart=o.ondragstart||function(o){r=!0,i=t,n=e;var a=t.getFileEncodeDataURL();o.dataTransfer.setData("text/plain",a)}}(d,a)}}))}}.bind(this)),{options:{}}}}));